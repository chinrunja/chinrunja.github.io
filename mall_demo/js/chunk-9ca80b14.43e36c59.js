(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ca80b14"],{"0d46":function(t,e,a){},"189a":function(t,e,a){"use strict";a("5ea0")},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");var r=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5ea0":function(t,e,a){},"715a":function(t,e,a){"use strict";a("9c70")},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("da84"),i=a("d039"),s=a("e8b5"),o=a("861d"),c=a("7b0b"),l=a("07fa"),u=a("8418"),f=a("65f0"),d=a("1dde"),g=a("b622"),b=a("2d00"),h=g("isConcatSpreadable"),p=9007199254740991,y="Maximum allowed index exceeded",m=n.TypeError,v=b>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),w=d("concat"),C=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:s(t)},O=!v||!w;r({target:"Array",proto:!0,forced:O},{concat:function(t){var e,a,r,n,i,s=c(this),o=f(s,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?s:arguments[e],C(i)){if(n=l(i),d+n>p)throw m(y);for(a=0;a<n;a++,d++)a in i&&u(o,d,i[a])}else{if(d>=p)throw m(y);u(o,d++,i)}return o.length=d,o}})},"9c70":function(t,e,a){},a00c:function(t,e,a){},ad18:function(t,e,a){"use strict";a("0d46")},b64b:function(t,e,a){var r=a("23e7"),n=a("7b0b"),i=a("df75"),s=a("d039"),o=s((function(){i(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(t){return i(n(t))}})},bb51:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("nav-bar",{staticClass:"nav-bar"},[a("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),a("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isShowTabControl,expression:"isShowTabControl"}],ref:"tabControl1",staticClass:"tab-control1",style:{width:"calc(100% - "+t.tabOffsetLeft+"px)"},attrs:{titles:["综合","新品","销量"]},on:{tabClick:t.tabClick}}),a("div",{staticClass:"content"},[a("category-menu",{attrs:{categories:t.categories},on:{selectItem:t.selectItem}}),a("scroll",{ref:"scroll",staticClass:"scroll",attrs:{data:[t.categoryData],"probe-type":3},on:{scroll:t.contentScroll}},[a("div",[a("category-content",{attrs:{subcategories:t.showSubcategory}}),a("tab-control",{ref:"tabControl2",staticClass:"tab-control2",attrs:{titles:["综合","新品","销量"]},on:{tabClick:t.tabClick}}),a("goods-list",{attrs:{goods:t.showCategoryDetail}})],1)])],1),a("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowTop,expression:"isShowTop"}],nativeOn:{click:function(e){return t.goTop.apply(null,arguments)}}})],1)},n=[],i=a("5530"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("scroll",{staticClass:"category-menu"},[a("div",{staticClass:"menu-list"},t._l(t.categories,(function(e,r){return a("div",{key:r,staticClass:"menu-list-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[t._v(" "+t._s(e.title)+" ")])})),0)])},o=[],c=a("5d17"),l={name:"CategoryMenu",components:{Scroll:c["a"]},props:{categories:Array},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("selectItem",t)}}},u=l,f=(a("f9e1"),a("2877")),d=Object(f["a"])(u,s,o,!1,null,"4ce60296",null),g=d.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-content"},[t.subcategories.list?a("grid-view",{attrs:{cols:3,lineSpace:15,"v-margin":20}},t._l(t.subcategories.list,(function(e,r){return a("div",{key:r,staticClass:"item"},[a("a",{attrs:{href:e.link}},[a("img",{staticClass:"item-img",attrs:{src:e.image},on:{load:t.gridViewLoad}}),a("br")]),a("span",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()],1)},h=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"gridView",staticClass:"grid-view"},[t._t("default")],2)},y=[],m=(a("a9e3"),a("99af"),{name:"GridView",props:{cols:{type:Number,default:2},hMargin:{type:Number,default:8},vMargin:{type:Number,default:8},itemSpace:{type:Number,default:8},lineSpace:{type:Number,default:8}},mounted:function(){setTimeout(this._autoLayout,20)},updated:function(){this._autoLayout()},methods:{_autoLayout:function(){var t=this.$refs.gridView,e=t.children;t.style.padding="".concat(this.vMargin,"px ").concat(this.hMargin,"px");for(var a=(t.clientWidth-2*this.hMargin-(this.cols-1)*this.itemSpace)/this.cols,r=0;r<e.length;r++)e[r].style.width=a+"px",(r+1)%this.cols!==0&&(e[r].style.marginRight=this.itemSpace+"px"),r>=this.cols&&(e[r].style.marginTop=this.lineSpace+"px")}}}),v=m,w=(a("189a"),Object(f["a"])(v,p,y,!1,null,"066bb4e2",null)),C=w.exports,O={name:"CategoryContent",components:{GridView:C},props:{subcategories:{type:Object,default:function(){return[]}}},methods:{gridViewLoad:function(){this.$bus.$emit("gridViewImgLoad")}}},_=O,j=(a("715a"),Object(f["a"])(_,b,h,!1,null,"f12a1bfc",null)),x=j.exports,D=a("a7ac"),$=a("6d71"),S=a("b95e"),I=a("1bab");function k(){return Object(I["a"])({url:"data.json"})}function T(t){return Object(I["a"])({url:"data.json",params:{maitKey:t}})}function L(t,e){return Object(I["a"])({url:"data.json",params:{miniWallkey:t,type:e}})}var P=a("eecb"),M={name:"Category",components:{CategoryMenu:g,NavBar:D["a"],CategoryContent:x,Scroll:c["a"],GoodsList:$["a"]},mixins:[P["c"],P["a"],P["d"]],data:function(){return{categories:[],categoryData:{},scroll:null,currentIndex:-1,saveY:0,tabOffsetTop:0,tabOffsetLeft:0}},computed:{showSubcategory:function(){return-1===this.currentIndex?{}:this.categoryData[this.currentIndex].subcategories},showCategoryDetail:function(){return-1===this.currentIndex?[]:this.categoryData[this.currentIndex].categoryDetail[this.currentType].list}},created:function(){this._getCategory()},mounted:function(){var t=this;this.$bus.$on("gridViewImgLoad",(function(){t.itemImgListener(),t.setOffset()}))},activated:function(){this.$refs.scroll&&this.$refs.scroll.scrollTo(0,this.saveY,10)},deactivated:function(){this.saveY=this.$refs.scroll.getScrollY(),this.$bus.$off("itemImgLoad",this.itemImgListener)},methods:{setOffset:function(){var t=this,e=setTimeout((function(){t.tabOffsetLeft=t.$refs.scroll.$el.offsetLeft,t.tabOffsetTop=t.$refs.tabControl2.$el.offsetTop+44,clearTimeout(e)}),200)},selectItem:function(t){this._getSubCategories(t),this.$refs.scroll&&this.$refs.scroll.scrollTo(0,-44,100),this.$refs.scroll&&this.$refs.scroll.refresh(),this.setOffset()},_getCategory:function(){var t=this;k().then((function(e){t.categories=e.data.category.list;for(var a=0;a<t.categories.length;a++)t.categoryData[a]={subcategories:{},categoryDetail:{pop:[],new:[],sell:[]}};t._getSubCategories(0)}))},_getSubCategories:function(t){var e=this;this.currentIndex=t;var a=this.categories[t].maitKey;T(a).then((function(a){e.categoryData[t].subcategories=a.data.subcategory[t],e.categoryData=Object(i["a"])({},e.categoryData),e._getCategoryDetail(S["b"]),e._getCategoryDetail(S["c"]),e._getCategoryDetail(S["a"])}))},_getCategoryDetail:function(t){var e=this,a=this.categories[this.currentIndex].miniWallkey;L(a,t).then((function(a){e.categoryData[e.currentIndex].categoryDetail[t]=a.data.categoryDetail[t],e.categoryData=Object(i["a"])({},e.categoryData)}))}}},N=M,V=(a("ad18"),Object(f["a"])(N,r,n,!1,null,"49fcfea5",null));e["default"]=V.exports},dbb4:function(t,e,a){var r=a("23e7"),n=a("83ab"),i=a("56ef"),s=a("fc6a"),o=a("06cf"),c=a("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,r=s(t),n=o.f,l=i(r),u={},f=0;while(l.length>f)a=n(r,e=l[f++]),void 0!==a&&c(u,e,a);return u}})},e439:function(t,e,a){var r=a("23e7"),n=a("d039"),i=a("fc6a"),s=a("06cf").f,o=a("83ab"),c=n((function(){s(1)})),l=!o||c;r({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return s(i(t),e)}})},f9e1:function(t,e,a){"use strict";a("a00c")}}]);
//# sourceMappingURL=chunk-9ca80b14.43e36c59.js.map